!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}}(function(){return function i(u,c,a){function f(t,e){if(!c[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[t]={exports:{}};u[t][0].call(r.exports,function(e){var n=u[t][1][e];return f(n||e)},r,r.exports,i,u,c,a)}return c[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)f(a[e]);return f}({1:[function(e,n,t){"use strict";var o={},r="(?:^|\\s)",i="(?:\\s|$)";function u(e){var n=o[e];return n?n.lastIndex=0:o[e]=n=new RegExp(r+e+i,"g"),n}n.exports={add:function(e,n){var t=e.className;t.length?u(n).test(t)||(e.className+=" "+n):e.className=n},rm:function(e,n){e.className=e.className.replace(u(n)," ").trim()}}},{}],2:[function(e,n,t){(function(r){"use strict";var j=e("contra/emitter"),k=e("crossvent"),q=e("./classes"),U=document,_=U.documentElement;function F(e,n,t,o){r.navigator.pointerEnabled?k[n](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[t],o):r.navigator.msPointerEnabled?k[n](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[t],o):(k[n](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[t],o),k[n](e,t,o))}function K(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var n=e.button;return void 0!==n?1&n?1:2&n?3:4&n?2:0:void 0}function z(e,n){return void 0!==r[n]?r[n]:_.clientHeight?_[e]:U.body[e]}function H(e,n,t){var o,r=e||{},i=r.className;return r.className+=" gu-hide",o=U.elementFromPoint(n,t),r.className=i,o}function V(){return!1}function $(){return!0}function G(e){return e.width||e.right-e.left}function J(e){return e.height||e.bottom-e.top}function Q(e){return e.parentNode===U?null:e.parentNode}function W(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(n){if(!n)return!1;if("false"===n.contentEditable)return!1;if("true"===n.contentEditable)return!0;return e(Q(n))}(e)}function Z(n){return n.nextElementSibling||function(){var e=n;for(;e=e.nextSibling,e&&1!==e.nodeType;);return e}()}function ee(e,n){var t,o=(t=n).targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,r={pageX:"clientX",pageY:"clientY"};return e in r&&!(e in o)&&r[e]in o&&(e=r[e]),o[e]}n.exports=function(e,n){var v,p,m,g,h,u,c,y,b,w,t;1===arguments.length&&!1===Array.isArray(e)&&(n=e,e=[]);var a,E=null,x=n||{};void 0===x.moves&&(x.moves=$),void 0===x.accepts&&(x.accepts=$),void 0===x.invalid&&(x.invalid=function(){return!1}),void 0===x.containers&&(x.containers=e||[]),void 0===x.isContainer&&(x.isContainer=V),void 0===x.copy&&(x.copy=!1),void 0===x.copySortSource&&(x.copySortSource=!1),void 0===x.revertOnSpill&&(x.revertOnSpill=!1),void 0===x.removeOnSpill&&(x.removeOnSpill=!1),void 0===x.direction&&(x.direction="vertical"),void 0===x.ignoreInputTextSelection&&(x.ignoreInputTextSelection=!0),void 0===x.mirrorContainer&&(x.mirrorContainer=U.body);var S=j({containers:x.containers,start:function(e){var n=C(e);n&&O(n)},end:N,cancel:P,remove:B,destroy:function(){o(!0),X({})},canMove:function(e){return!!C(e)},dragging:!1});return!0===x.removeOnSpill&&S.on("over",function(e){q.rm(e,"gu-hide")}).on("out",function(e){S.dragging&&q.add(e,"gu-hide")}),o(),S;function f(e){return-1!==S.containers.indexOf(e)||x.isContainer(e)}function o(e){var n=e?"remove":"add";F(_,n,"mousedown",i),F(_,n,"mouseup",X)}function l(e){F(_,e?"remove":"add","mousemove",s)}function d(e){var n=e?"remove":"add";k[n](_,"selectstart",r),k[n](_,"click",r)}function r(e){a&&e.preventDefault()}function i(e){if(u=e.clientX,c=e.clientY,1===K(e)&&!e.metaKey&&!e.ctrlKey){var n=e.target,t=C(n);t&&(a=t,l(),"mousedown"===e.type&&(W(n)?n.focus():e.preventDefault()))}}function s(e){if(a)if(0!==K(e)){if(void 0===e.clientX||e.clientX!==u||void 0===e.clientY||e.clientY!==c){if(x.ignoreInputTextSelection){var n=ee("clientX",e),t=ee("clientY",e);if(W(U.elementFromPoint(n,t)))return}var o=a;l(!0),d(),N(),O(o);var r,i={left:(r=m.getBoundingClientRect()).left+z("scrollLeft","pageXOffset"),top:r.top+z("scrollTop","pageYOffset")};g=ee("pageX",e)-i.left,h=ee("pageY",e)-i.top,q.add(w||m,"gu-transit"),function(){if(!v){var e=m.getBoundingClientRect();(v=m.cloneNode(!0)).style.width=G(e)+"px",v.style.height=J(e)+"px",q.rm(v,"gu-transit"),q.add(v,"gu-mirror"),x.mirrorContainer.appendChild(v),F(_,"add","mousemove",M),q.add(x.mirrorContainer,"gu-unselectable"),S.emit("cloned",v,m,"mirror")}}(),M(e)}}else X({})}function C(e){if(!(S.dragging&&v||f(e))){for(var n=e;Q(e)&&!1===f(Q(e));){if(x.invalid(e,n))return;if(!(e=Q(e)))return}var t=Q(e);if(t&&!x.invalid(e,n)&&x.moves(e,t,n,Z(e)))return{item:e,source:t}}}function O(e){var n,t;n=e.item,t=e.source,("boolean"==typeof x.copy?x.copy:x.copy(n,t))&&(w=e.item.cloneNode(!0),S.emit("cloned",w,e.item,"copy")),p=e.source,m=e.item,y=b=Z(e.item),S.dragging=!0,S.emit("drag",m,p)}function N(){if(S.dragging){var e=w||m;Y(e,Q(e))}}function T(){l(!(a=!1)),d(!0)}function X(e){if(T(),S.dragging){var n=w||m,t=ee("clientX",e),o=ee("clientY",e),r=L(H(v,t,o),t,o);r&&(w&&x.copySortSource||!w||r!==p)?Y(n,r):x.removeOnSpill?B():P()}}function Y(e,n){var t=Q(e);w&&x.copySortSource&&n===p&&t.removeChild(m),I(n)?S.emit("cancel",e,p,p):S.emit("drop",e,n,p,b),D()}function B(){if(S.dragging){var e=w||m,n=Q(e);n&&n.removeChild(e),S.emit(w?"cancel":"remove",e,n,p),D()}}function P(e){if(S.dragging){var n=0<arguments.length?e:x.revertOnSpill,t=w||m,o=Q(t),r=I(o);!1===r&&n&&(w?o&&o.removeChild(w):p.insertBefore(t,y)),r||n?S.emit("cancel",t,p,p):S.emit("drop",t,o,p,b),D()}}function D(){var e=w||m;T(),v&&(q.rm(x.mirrorContainer,"gu-unselectable"),F(_,"remove","mousemove",M),Q(v).removeChild(v),v=null),e&&q.rm(e,"gu-transit"),t&&clearTimeout(t),S.dragging=!1,E&&S.emit("out",e,E,p),S.emit("dragend",e),p=m=w=y=b=t=E=null}function I(e,n){var t;return t=void 0!==n?n:v?b:Z(w||m),e===p&&t===y}function L(t,o,r){for(var i=t;i&&!e();)i=Q(i);return i;function e(){if(!1===f(i))return!1;var e=R(i,t),n=A(i,e,o,r);return!!I(i,n)||x.accepts(m,i,p,n)}}function M(e){if(v){e.preventDefault();var n=ee("clientX",e),t=ee("clientY",e),o=n-g,r=t-h;v.style.left=o+"px",v.style.top=r+"px";var i=w||m,u=H(v,n,t),c=L(u,n,t),a=null!==c&&c!==E;(a||null===c)&&(E&&s("out"),E=c,a&&s("over"));var f=Q(i);if(c!==p||!w||x.copySortSource){var l,d=R(c,u);if(null!==d)l=A(c,d,n,t);else{if(!0!==x.revertOnSpill||w)return void(w&&f&&f.removeChild(i));l=y,c=p}(null===l&&a||l!==i&&l!==Z(i))&&(b=l,c.insertBefore(i,l),S.emit("shadow",i,c,p))}else f&&f.removeChild(i)}function s(e){S.emit(e,i,E,p)}}function R(e,n){for(var t=n;t!==e&&Q(t)!==e;)t=Q(t);return t===_?null:t}function A(r,n,i,u){var e,c="horizontal"===x.direction;return n!==r?(e=n.getBoundingClientRect(),t(c?i>e.left+G(e)/2:u>e.top+J(e)/2)):function(){var e,n,t,o=r.children.length;for(e=0;e<o;e++){if(n=r.children[e],t=n.getBoundingClientRect(),c&&t.left+t.width/2>i)return n;if(!c&&t.top+t.height/2>u)return n}return null}();function t(e){return e?Z(n):n}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,n,t){n.exports=function(e,n){return Array.prototype.slice.call(e,n)}},{}],4:[function(e,n,t){"use strict";var o=e("ticky");n.exports=function(e,n,t){e&&o(function(){e.apply(t||null,n||[])})}},{ticky:9}],5:[function(e,n,t){"use strict";var c=e("atoa"),a=e("./debounce");n.exports=function(r,e){var i=e||{},u={};return void 0===r&&(r={}),r.on=function(e,n){return u[e]?u[e].push(n):u[e]=[n],r},r.once=function(e,n){return n._once=!0,r.on(e,n),r},r.off=function(e,n){var t=arguments.length;if(1===t)delete u[e];else if(0===t)u={};else{var o=u[e];if(!o)return r;o.splice(o.indexOf(n),1)}return r},r.emit=function(){var e=c(arguments);return r.emitterSnapshot(e.shift()).apply(this,e)},r.emitterSnapshot=function(o){var e=(u[o]||[]).slice(0);return function(){var n=c(arguments),t=this||r;if("error"===o&&!1!==i.throws&&!e.length)throw 1===n.length?n[0]:n;return e.forEach(function(e){i.async?a(e,n,t):e.apply(t,n),e._once&&r.off(o,e)}),r}},r}},{"./debounce":4,atoa:3}],6:[function(t,o,e){(function(f){"use strict";var r=t("custom-event"),i=t("./eventmap"),u=f.document,e=function(e,n,t,o){return e.addEventListener(n,t,o)},n=function(e,n,t,o){return e.removeEventListener(n,t,o)},l=[];function d(e,n,t){var o=function(e,n,t){var o,r;for(o=0;o<l.length;o++)if((r=l[o]).element===e&&r.type===n&&r.fn===t)return o}(e,n,t);if(o){var r=l[o].wrapper;return l.splice(o,1),r}}f.addEventListener||(e=function(e,n,t){return e.attachEvent("on"+n,(o=e,r=n,i=t,u=d(o,r,i)||(c=o,a=i,function(e){var n=e||f.event;n.target=n.target||n.srcElement,n.preventDefault=n.preventDefault||function(){n.returnValue=!1},n.stopPropagation=n.stopPropagation||function(){n.cancelBubble=!0},n.which=n.which||n.keyCode,a.call(c,n)}),l.push({wrapper:u,element:o,type:r,fn:i}),u));var o,r,i,u,c,a},n=function(e,n,t){var o=d(e,n,t);if(o)return e.detachEvent("on"+n,o)}),o.exports={add:e,remove:n,fabricate:function(e,n,t){var o=-1===i.indexOf(n)?new r(n,{detail:t}):function(){var e;u.createEvent?(e=u.createEvent("Event")).initEvent(n,!0,!0):u.createEventObject&&(e=u.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+n,o)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,r,n){(function(e){"use strict";var n=[],t="",o=/^on/;for(t in e)o.test(t)&&n.push(t.slice(2));r.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){(function(e){var n=e.CustomEvent;t.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"function"==typeof document.createEvent?function(e,n){var t=document.createEvent("CustomEvent");return n?t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail):t.initCustomEvent(e,!1,!1,void 0),t}:function(e,n){var t=document.createEventObject();return t.type=e,n?(t.bubbles=Boolean(n.bubbles),t.cancelable=Boolean(n.cancelable),t.detail=n.detail):(t.bubbles=!1,t.cancelable=!1,t.detail=void 0),t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,n,t){var o;o="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},n.exports=o},{}]},{},[2])(2)});